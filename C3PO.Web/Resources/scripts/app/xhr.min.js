/**
 * xhr.min.js
 * (c) 2013 Adam Boxall, http://adamboxall.com
 * https://github.com/AdamBoxall/xhr.js
 * license MIT
 */
(function(e,t){if(typeof define==="function"&&define.amd){define([],t)}else{e.xhr=t()}})(this,function(){function e(e){if(e&&typeof e!=="function"){throw new Error("Callback is not callable")}var t;if(window.XMLHttpRequest){t=new XMLHttpRequest}else{t=new ActiveXObject("Microsoft.XMLHTTP")}t.setRequestHeader("X-Requested-With","XMLHttpRequest");if(e){t.onreadystatechange=function(){if(t.readyState===4){if(t.status===200){var n=t.getResponseHeader("Content-Type");if(n==="application/json"){try{e(null,JSON.parse(t.responseText),t)}catch(r){e(r.message,null,t)}}else{e(null,t.responseText,t)}}else{e(t.statusText,null,t)}}}}return t}return{get:function(e,t){this.request({uri:e,callback:t})},post:function(e,t,n){if(typeof t==="function"){n=t;t=null}this.request({uri:e,method:"POST",data:t,callback:n})},request:function(t){if(!t.uri){throw new Error("No URI has been provided")}var n=t.data||null;var r=t.method||"GET";var i=t.callback||null;if(["GET","POST","PUT","DELETE"].indexOf(r)===-1){throw new Error("Invalid request method: "+r)}var s=e(i);s.open(r,t.uri,true);if(n){s.setRequestHeader("Content-Type",typeof n==="string"?"application/json":"application/x-www-form-urlencoded")}s.send(n)}}})